<div class="modal-close" data-ng-click="cancel()">
  x
</div>
<div class="group-modal" data-ng-class="{'active': stage==0}">
  <div class="modal-header">
    <div class="modal-icon">
      <i class="fa fa-share-alt"></i>
    </div>
    <div class="modal-title">
      {{"DEVICE_SHARE_MODAL_SELECT"|translate}}
    </div>
  </div>
  <div class="modal-body">
    <div class="modal-item">
      <div class="item-groups" data-ng-class="{'collapsed': isGroupsCollapsed}">
        <div class="item-group" data-ng-click="forward(1)">
          <i class="fa fa-plus"></i>
        </div>
        <div class="item-group" data-ng-click="selectGroup(a)" data-ng-repeat="group in groups"
             data-ng-model="shareData.groupId" uib-btn-radio="group.groupId">
          {{group.name}}
        </div>
      </div>
      <div class="item-collapse">
        <a href data-ng-click="isGroupsCollapsed=!isGroupsCollapsed">
          <i class="fa fa-angle-down" data-ng-show="isGroupsCollapsed"></i>
          <i class="fa fa-angle-up" data-ng-show="!isGroupsCollapsed"></i>
        </a>
      </div>
      <div class="item-button">
        <button class="btn btn-default" data-ng-click="forward(3)">下一步</button>
      </div>
    </div>
  </div>
</div>
<div class="group-modal" data-ng-class="{'active': stage==1}">
  <div class="modal-header">
    <div class="modal-icon">
      <i class="fa fa-share-alt"></i>
    </div>
    <div class="modal-title">
      {{"DEVICE_SHARE_MODAL_NEW_GROUP"|translate}}
    </div>
  </div>
  <div class="modal-body">
    <div class="modal-item">
      <div class="item-input">
        <input type="text" placeholder="{{'DEVICE_SHARE_MODAL_TYPE_GROUP_NAME'|translate}}" data-ng-model="groupData.name">
      </div>
      <div class="item-button">
        <button class="btn btn-default" data-ng-click="backward(1)">{{"UTIL_PREV"|translate}}</button>
        <button class="btn btn-default" data-ng-click="forward(1)">{{'UTIL_NEXT'|translate}}</button>
      </div>
    </div>
  </div>
</div>
<div class="group-modal" data-ng-class="{'active': stage==2}">
  <div class="modal-header">
    <div class="modal-icon">
      <i class="fa fa-share-alt"></i>
    </div>
    <div class="modal-title">
      {{"DEVICE_SHARE_MODAL_ADD_GROUP_MEMBER"|translate}}
    </div>
  </div>
  <div class="modal-body">
    <div class="modal-item">
      <div class="item-input">
        <tags-input type="text" placeholder="{{'DEVICE_SHARE_MODAL_TYPE_GROUP_NAME'|translate}}" data-ng-model="groupData.accounts"
                    display-property="name" add-from-autocomplete-only="true">
          <auto-complete source="loadTags($query)"></auto-complete>
        </tags-input>
      </div>
      <div class="item-button">
        <button class="btn btn-default" data-ng-click="backward(1)">{{"UTIL_PREV"|translate}}</button>
        <button class="btn btn-default" data-ng-click="addGroup()">{{"UTIL_NEXT"|translate}}</button>
      </div>
    </div>
  </div>
</div>
<div class="group-modal" data-ng-class="{'active': stage==3}">
  <div class="modal-header">
    <div class="modal-icon">
      <i class="fa fa-share-alt"></i>
    </div>
    <div class="modal-title">
      {{"DEVICE_SHARE_MODAL_SET_PERMISSIONS"|translate}}
    </div>
  </div>
  <div class="modal-body">
    <div class="modal-item">
      <div class="item-input">
        <input type="checkbox" data-ng-model="permission.readable">
        <span class="checkbox-label">{{"DEVICE_SHARE_MODAL_ALLOW_READ"|translate}}</span>
      </div>
      <div class="item-input">
        <input type="checkbox" data-ng-model="permission.writable">
        <span class="checkbox-label">{{"DEVICE_SHARE_MODAL_ALLOW_WRITE"|translate}}</span>
      </div>
      <div class="item-input">
        <input type="checkbox" data-ng-model="permission.executable">
        <span class="checkbox-label">{{"DEVICE_SHARE_MODAL_ALLOW_EXECUTE"|translate}}</span>
      </div>
      <div class="item-button">
        <button class="btn btn-default" data-ng-click="backward(3)">{{"UTIL_PREV"|translate}}</button>
        <button class="btn btn-default" data-ng-click="submit()">{{"UTIL_CONFIRM"|translate}}</button>
      </div>
    </div>
  </div>
</div>